<?php

/**
 * @file
 * Hello World module - Test module for deployment pipeline verification.
 */

use Drupal\Core\Routing\RouteMatchInterface;

/**
 * Implements hook_help().
 */
function hello_world_help($route_name, RouteMatchInterface $route_match) {
  switch ($route_name) {
    case 'help.page.hello_world':
      return '<p>' . t('This is a test module to verify the deployment pipeline works correctly.') . '</p>';
  }
}

/**
 * Implements hook_page_top().
 *
 * Adds a message to the top of every page for admin users.
 */
function hello_world_page_top(array &$page_top) {
  $current_user = \Drupal::currentUser();

  // Only show to authenticated users
  if ($current_user->isAuthenticated()) {
    $page_top['hello_world_message'] = [
      '#markup' => '<div style="background: #d4edda; border: 1px solid #c3e6cb; color: #155724; padding: 12px; margin: 10px; border-radius: 4px;">
        <strong>Hello World Module Active!</strong> This message confirms the deployment pipeline is working correctly.
        Deployment timestamp: ' . date('Y-m-d H:i:s') . '
      </div>',
      '#weight' => -1000,
    ];
  }
}
